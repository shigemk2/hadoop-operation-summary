## HDFS
### HDFSのゴール

- 数十ギガバイト以上の大きさのファイルを数百万個保存すること
- 安価なコモディティーサーバー群に基づいたスケールアウトモデルを使用して、RAIDではなくJBODを使うこと
- 小さなファイル群に対する低レイテンシーのアクセスよりもストリーミング型の読み書きに対して最適化すること
- マシンやディスクの障害をうまく扱えること
- MapReduceの処理に必要となる機能とスケーラビリティーのサポート

### 設計

- HDFS 伝統的なファイルシステムの設計
    - ユーザー空間ファイルシステム
    - 分散型のファイルシステム
    - 64MBのブロックサイズ
- それぞれのブロックをクラスタ内のマシン群に複製
- HDFSへのファイル書き込みは1度だけ

### デーモン群

- ネームノード
    - ファイルシステムのメタデータ/フィあるからブロックへのマップを保存し、ファイルシステムの全体像を提供
- セカンダリネームノード
    - ネームノードのトランザクションロックのチェックポイント処理
- データノード
    - ブロックデータ(ファイルの内容)を保存

### データの読み書き

- ツールやAPIを利用してHDFSの読み書きができる
- fsimage/edit

### 高可用性ネームノード

- Namenode High Availability(HA)
    - 単一障害点になりやすいネームノードに高可用性をもたせる
    - アクティブ/パッシブなネームノードのペアとしてデプロイ
    - スプリットぶれいん

### ネームノードフェデレーション

- メタデータ 「データについてのデータ」です（ファイルの所有者や、パーミッション・ビットなどのようなもの）
- ファイルシステムのメタデータを複数のマシンに分散
- ブロックプール

### アクセスと結合

- HDFSへアクセスするネイティブな方法としのJava API
    - HDFS APIはJavaのI/Oストリームの概念に便乗したもの
    - データノードと直接通信するのでクライアントとクラスタ内の全ノードの関連ポート間で自由に通信ができるようになっていないといけない
- HUSE
    - ユーザー空間ファイルシステム
        - マウント可能なファイルシステムをユーザー間で実装できるようにすること
    - REST API
